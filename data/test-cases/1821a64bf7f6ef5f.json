{"uid":"1821a64bf7f6ef5f","name":"[Negative] Проверка валидации поле “phone”","fullName":"tests_api.test_authorization_api.TestApiAuth#test_validation_phone_number","historyId":"1ec2612903bc232558e52e46e4d45e17","time":{"start":1713416913773,"stop":1713416914235,"duration":462},"status":"failed","statusMessage":"AssertionError: [{\"type\":\"missing\",\"loc\":[\"errors\"],\"msg\":\"Field required\",\"input\":{\"message\":\"fwrite(): Write of 3174 bytes failed with errno=28 No space left on device\",\"exception\":\"ErrorException\",\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":159,\"trace\":[{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php\",\"line\":254,\"function\":\"handleError\",\"class\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions\",\"type\":\"->\"},{\"function\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\{closure}\",\"class\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":159,\"function\":\"fwrite\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":146,\"function\":\"streamWrite\",\"class\":\"Monolog\\\\Handler\\\\StreamHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/AbstractProcessingHandler.php\",\"line\":44,\"function\":\"write\",\"class\":\"Monolog\\\\Handler\\\\StreamHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Logger.php\",\"line\":379,\"function\":\"handle\",\"class\":\"Monolog\\\\Handler\\\\AbstractProcessingHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Logger.php\",\"line\":632,\"function\":\"addRecord\",\"class\":\"Monolog\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/Logger.php\",\"line\":184,\"function\":\"error\",\"class\":\"Monolog\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/Logger.php\",\"line\":97,\"function\":\"writeLog\",\"class\":\"Illuminate\\\\Log\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/LogManager.php\",\"line\":665,\"function\":\"error\",\"class\":\"Illuminate\\\\Log\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php\",\"line\":306,\"function\":\"error\",\"class\":\"Illuminate\\\\Log\\\\LogManager\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php\",\"line\":267,\"function\":\"reportThrowable\",\"class\":\"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php\",\"line\":497,\"function\":\"report\",\"class\":\"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php\",\"line\":146,\"function\":\"reportException\",\"class\":\"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\"type\":\"->\"},{\"file\":\"/var/www/public/index.php\",\"line\":51,\"function\":\"handle\",\"class\":\"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\"type\":\"->\"}]},\"url\":\"https://errors.pydantic.dev/2.3/v/missing\"}]","statusTrace":"self = <tests_api.utils.asserts.Assertion object at 0x7fd9b5c7dfc0>\nscheme = <class 'tests_api.models.auth.AuthUserValidation'>\n\n    def should_actual_scheme(self, scheme):\n        with allure.step(\"Валидация json-схемы\"):\n            try:\n>               scheme.parse_obj(self.actual_value)\n\ntests_api/utils/asserts.py:138: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/usr/local/lib/python3.10/dist-packages/typing_extensions.py:2562: in wrapper\n    return __arg(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncls = <class 'tests_api.models.auth.AuthUserValidation'>\nobj = {'exception': 'ErrorException', 'file': '/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php', 'line': 159, 'message': 'fwrite(): Write of 3174 bytes failed with errno=28 No space left on device', ...}\n\n    @classmethod\n    @typing_extensions.deprecated(\n        'The `parse_obj` method is deprecated; use `model_validate` instead.', category=PydanticDeprecatedSince20\n    )\n    def parse_obj(cls: type[Model], obj: Any) -> Model:  # noqa: D102\n        warnings.warn('The `parse_obj` method is deprecated; use `model_validate` instead.', DeprecationWarning)\n>       return cls.model_validate(obj)\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for AuthUserValidation\nE       errors\nE         Field required [type=missing, input_value={'message': 'fwrite(): Wr...Kernel', 'type': '->'}]}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.3/v/missing\n\n/usr/local/lib/python3.10/dist-packages/pydantic/main.py:976: ValidationError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests_api.test_authorization_api.TestApiAuth object at 0x7fd9b8136d70>\nassertion = <class 'tests_api.utils.asserts.Assertion'>\nauth_api = <tests_api.api.auth.AuthApi object at 0x7fd9b5c7fee0>\n\n    @allure.title(\"[Negative] Проверка валидации поле “phone”\")\n    @allure.feature(\"[API] Авторизация\")\n    @allure.step(\"отправляем запрос POST\")\n    def test_validation_phone_number(self, assertion, auth_api) -> None:\n        resp = auth_api.login_auth_assert_validation(phone=\"+79603848ы71\")\n        print(resp.text)\n>       assertion(resp.json()).should_actual_scheme(AuthUserValidation)\n\ntests_api/test_authorization_api.py:27: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests_api.utils.asserts.Assertion object at 0x7fd9b5c7dfc0>\nscheme = <class 'tests_api.models.auth.AuthUserValidation'>\n\n    def should_actual_scheme(self, scheme):\n        with allure.step(\"Валидация json-схемы\"):\n            try:\n                scheme.parse_obj(self.actual_value)\n            except ValidationError as e:\n>               assert False, e.json()\nE               AssertionError: [{\"type\":\"missing\",\"loc\":[\"errors\"],\"msg\":\"Field required\",\"input\":{\"message\":\"fwrite(): Write of 3174 bytes failed with errno=28 No space left on device\",\"exception\":\"ErrorException\",\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":159,\"trace\":[{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php\",\"line\":254,\"function\":\"handleError\",\"class\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions\",\"type\":\"->\"},{\"function\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\{closure}\",\"class\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":159,\"function\":\"fwrite\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":146,\"function\":\"streamWrite\",\"class\":\"Monolog\\\\Handler\\\\StreamHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/AbstractProcessingHandler.php\",\"line\":44,\"function\":\"write\",\"class\":\"Monolog\\\\Handler\\\\StreamHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Logger.php\",\"line\":379,\"function\":\"handle\",\"class\":\"Monolog\\\\Handler\\\\AbstractProcessingHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Logger.php\",\"line\":632,\"function\":\"addRecord\",\"class\":\"Monolog\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/Logger.php\",\"line\":184,\"function\":\"error\",\"class\":\"Monolog\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/Logger.php\",\"line\":97,\"function\":\"writeLog\",\"class\":\"Illuminate\\\\Log\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/LogManager.php\",\"line\":665,\"function\":\"error\",\"class\":\"Illuminate\\\\Log\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php\",\"line\":306,\"function\":\"error\",\"class\":\"Illuminate\\\\Log\\\\LogManager\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php\",\"line\":267,\"function\":\"reportThrowable\",\"class\":\"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php\",\"line\":497,\"function\":\"report\",\"class\":\"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php\",\"line\":146,\"function\":\"reportException\",\"class\":\"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\"type\":\"->\"},{\"file\":\"/var/www/public/index.php\",\"line\":51,\"function\":\"handle\",\"class\":\"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\"type\":\"->\"}]},\"url\":\"https://errors.pydantic.dev/2.3/v/missing\"}]\n\ntests_api/utils/asserts.py:140: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1713416909241,"stop":1713416909334,"duration":93},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1713416909241,"stop":1713416909241,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1713416909241,"stop":1713416909241,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1713416909241,"stop":1713416909241,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1713416909241,"stop":1713416909241,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1713416909335,"stop":1713416909335,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1713416909335,"stop":1713416909686,"duration":351},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"assertion","time":{"start":1713416909335,"stop":1713416909335,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"env","time":{"start":1713416909335,"stop":1713416909335,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"base_url_showcase","time":{"start":1713416909335,"stop":1713416909335,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1713416909688,"stop":1713416909692,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1713416909688,"stop":1713416909688,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1713416909692,"stop":1713416909961,"duration":269},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1713416909962,"stop":1713416909962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1713416909962,"stop":1713416909962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1713416913727,"stop":1713416913733,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1713416913733,"stop":1713416913771,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"auth_api","time":{"start":1713416913772,"stop":1713416913772,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"screenshot_on_failure","time":{"start":1713416913772,"stop":1713416913772,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"api_client_showcase","time":{"start":1713416913772,"stop":1713416913772,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: [{\"type\":\"missing\",\"loc\":[\"errors\"],\"msg\":\"Field required\",\"input\":{\"message\":\"fwrite(): Write of 3174 bytes failed with errno=28 No space left on device\",\"exception\":\"ErrorException\",\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":159,\"trace\":[{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php\",\"line\":254,\"function\":\"handleError\",\"class\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions\",\"type\":\"->\"},{\"function\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\{closure}\",\"class\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":159,\"function\":\"fwrite\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":146,\"function\":\"streamWrite\",\"class\":\"Monolog\\\\Handler\\\\StreamHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/AbstractProcessingHandler.php\",\"line\":44,\"function\":\"write\",\"class\":\"Monolog\\\\Handler\\\\StreamHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Logger.php\",\"line\":379,\"function\":\"handle\",\"class\":\"Monolog\\\\Handler\\\\AbstractProcessingHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Logger.php\",\"line\":632,\"function\":\"addRecord\",\"class\":\"Monolog\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/Logger.php\",\"line\":184,\"function\":\"error\",\"class\":\"Monolog\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/Logger.php\",\"line\":97,\"function\":\"writeLog\",\"class\":\"Illuminate\\\\Log\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/LogManager.php\",\"line\":665,\"function\":\"error\",\"class\":\"Illuminate\\\\Log\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php\",\"line\":306,\"function\":\"error\",\"class\":\"Illuminate\\\\Log\\\\LogManager\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php\",\"line\":267,\"function\":\"reportThrowable\",\"class\":\"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php\",\"line\":497,\"function\":\"report\",\"class\":\"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php\",\"line\":146,\"function\":\"reportException\",\"class\":\"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\"type\":\"->\"},{\"file\":\"/var/www/public/index.php\",\"line\":51,\"function\":\"handle\",\"class\":\"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\"type\":\"->\"}]},\"url\":\"https://errors.pydantic.dev/2.3/v/missing\"}]","statusTrace":"self = <tests_api.utils.asserts.Assertion object at 0x7fd9b5c7dfc0>\nscheme = <class 'tests_api.models.auth.AuthUserValidation'>\n\n    def should_actual_scheme(self, scheme):\n        with allure.step(\"Валидация json-схемы\"):\n            try:\n>               scheme.parse_obj(self.actual_value)\n\ntests_api/utils/asserts.py:138: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/usr/local/lib/python3.10/dist-packages/typing_extensions.py:2562: in wrapper\n    return __arg(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncls = <class 'tests_api.models.auth.AuthUserValidation'>\nobj = {'exception': 'ErrorException', 'file': '/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php', 'line': 159, 'message': 'fwrite(): Write of 3174 bytes failed with errno=28 No space left on device', ...}\n\n    @classmethod\n    @typing_extensions.deprecated(\n        'The `parse_obj` method is deprecated; use `model_validate` instead.', category=PydanticDeprecatedSince20\n    )\n    def parse_obj(cls: type[Model], obj: Any) -> Model:  # noqa: D102\n        warnings.warn('The `parse_obj` method is deprecated; use `model_validate` instead.', DeprecationWarning)\n>       return cls.model_validate(obj)\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for AuthUserValidation\nE       errors\nE         Field required [type=missing, input_value={'message': 'fwrite(): Wr...Kernel', 'type': '->'}]}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.3/v/missing\n\n/usr/local/lib/python3.10/dist-packages/pydantic/main.py:976: ValidationError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests_api.test_authorization_api.TestApiAuth object at 0x7fd9b8136d70>\nassertion = <class 'tests_api.utils.asserts.Assertion'>\nauth_api = <tests_api.api.auth.AuthApi object at 0x7fd9b5c7fee0>\n\n    @allure.title(\"[Negative] Проверка валидации поле “phone”\")\n    @allure.feature(\"[API] Авторизация\")\n    @allure.step(\"отправляем запрос POST\")\n    def test_validation_phone_number(self, assertion, auth_api) -> None:\n        resp = auth_api.login_auth_assert_validation(phone=\"+79603848ы71\")\n        print(resp.text)\n>       assertion(resp.json()).should_actual_scheme(AuthUserValidation)\n\ntests_api/test_authorization_api.py:27: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests_api.utils.asserts.Assertion object at 0x7fd9b5c7dfc0>\nscheme = <class 'tests_api.models.auth.AuthUserValidation'>\n\n    def should_actual_scheme(self, scheme):\n        with allure.step(\"Валидация json-схемы\"):\n            try:\n                scheme.parse_obj(self.actual_value)\n            except ValidationError as e:\n>               assert False, e.json()\nE               AssertionError: [{\"type\":\"missing\",\"loc\":[\"errors\"],\"msg\":\"Field required\",\"input\":{\"message\":\"fwrite(): Write of 3174 bytes failed with errno=28 No space left on device\",\"exception\":\"ErrorException\",\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":159,\"trace\":[{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php\",\"line\":254,\"function\":\"handleError\",\"class\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions\",\"type\":\"->\"},{\"function\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\{closure}\",\"class\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":159,\"function\":\"fwrite\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":146,\"function\":\"streamWrite\",\"class\":\"Monolog\\\\Handler\\\\StreamHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/AbstractProcessingHandler.php\",\"line\":44,\"function\":\"write\",\"class\":\"Monolog\\\\Handler\\\\StreamHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Logger.php\",\"line\":379,\"function\":\"handle\",\"class\":\"Monolog\\\\Handler\\\\AbstractProcessingHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Logger.php\",\"line\":632,\"function\":\"addRecord\",\"class\":\"Monolog\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/Logger.php\",\"line\":184,\"function\":\"error\",\"class\":\"Monolog\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/Logger.php\",\"line\":97,\"function\":\"writeLog\",\"class\":\"Illuminate\\\\Log\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/LogManager.php\",\"line\":665,\"function\":\"error\",\"class\":\"Illuminate\\\\Log\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php\",\"line\":306,\"function\":\"error\",\"class\":\"Illuminate\\\\Log\\\\LogManager\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php\",\"line\":267,\"function\":\"reportThrowable\",\"class\":\"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php\",\"line\":497,\"function\":\"report\",\"class\":\"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php\",\"line\":146,\"function\":\"reportException\",\"class\":\"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\"type\":\"->\"},{\"file\":\"/var/www/public/index.php\",\"line\":51,\"function\":\"handle\",\"class\":\"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\"type\":\"->\"}]},\"url\":\"https://errors.pydantic.dev/2.3/v/missing\"}]\n\ntests_api/utils/asserts.py:140: AssertionError","steps":[{"name":"отправляем запрос POST","time":{"start":1713416913773,"stop":1713416914234,"duration":461},"status":"failed","statusMessage":"AssertionError: [{\"type\":\"missing\",\"loc\":[\"errors\"],\"msg\":\"Field required\",\"input\":{\"message\":\"fwrite(): Write of 3174 bytes failed with errno=28 No space left on device\",\"exception\":\"ErrorException\",\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":159,\"trace\":[{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php\",\"line\":254,\"function\":\"handleError\",\"class\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions\",\"type\":\"->\"},{\"function\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\{closure}\",\"class\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":159,\"function\":\"fwrite\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":146,\"function\":\"streamWrite\",\"class\":\"Monolog\\\\Handler\\\\StreamHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/AbstractProcessingHandler.php\",\"line\":44,\"function\":\"write\",\"class\":\"Monolog\\\\Handler\\\\StreamHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Logger.php\",\"line\":379,\"function\":\"handle\",\"class\":\"Monolog\\\\Handler\\\\AbstractProcessingHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Logger.php\",\"line\":632,\"function\":\"addRecord\",\"class\":\"Monolog\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/Logger.php\",\"line\":184,\"function\":\"error\",\"class\":\"Monolog\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/Logger.php\",\"line\":97,\"function\":\"writeLog\",\"class\":\"Illuminate\\\\Log\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/LogManager.php\",\"line\":665,\"function\":\"error\",\"class\":\"Illuminate\\\\Log\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php\",\"line\":306,\"function\":\"error\",\"class\":\"Illuminate\\\\Log\\\\LogManager\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php\",\"line\":267,\"function\":\"reportThrowable\",\"class\":\"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php\",\"line\":497,\"function\":\"report\",\"class\":\"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php\",\"line\":146,\"function\":\"reportException\",\"class\":\"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\"type\":\"->\"},{\"file\":\"/var/www/public/index.php\",\"line\":51,\"function\":\"handle\",\"class\":\"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\"type\":\"->\"}]},\"url\":\"https://errors.pydantic.dev/2.3/v/missing\"}]\n","statusTrace":"  File \"/usr/local/lib/python3.10/dist-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/builds/2uit/Chmaki_autotests/tests_api/test_authorization_api.py\", line 27, in test_validation_phone_number\n    assertion(resp.json()).should_actual_scheme(AuthUserValidation)\n  File \"/builds/2uit/Chmaki_autotests/tests_api/utils/asserts.py\", line 140, in should_actual_scheme\n    assert False, e.json()\n","steps":[{"name":"Выполняю POST запрос на роут api/auth/get-enter-code","time":{"start":1713416913773,"stop":1713416914233,"duration":460},"status":"passed","steps":[{"name":"request","time":{"start":1713416913774,"stop":1713416914233,"duration":459},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"method","value":"'POST'"},{"name":"url","value":"'https://dev.agentum.pro/backend/api/auth/get-enter-code'"},{"name":"timeout","value":"5000"},{"name":"json","value":"{'phone': '+79603848ы71'}"},{"name":"headers","value":"{'Accept': 'application/json'}"},{"name":"params","value":"None"},{"name":"files","value":"None"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Валидация json-схемы","time":{"start":1713416914233,"stop":1713416914233,"duration":0},"status":"failed","statusMessage":"AssertionError: [{\"type\":\"missing\",\"loc\":[\"errors\"],\"msg\":\"Field required\",\"input\":{\"message\":\"fwrite(): Write of 3174 bytes failed with errno=28 No space left on device\",\"exception\":\"ErrorException\",\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":159,\"trace\":[{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/HandleExceptions.php\",\"line\":254,\"function\":\"handleError\",\"class\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions\",\"type\":\"->\"},{\"function\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\{closure}\",\"class\":\"Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":159,\"function\":\"fwrite\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/StreamHandler.php\",\"line\":146,\"function\":\"streamWrite\",\"class\":\"Monolog\\\\Handler\\\\StreamHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Handler/AbstractProcessingHandler.php\",\"line\":44,\"function\":\"write\",\"class\":\"Monolog\\\\Handler\\\\StreamHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Logger.php\",\"line\":379,\"function\":\"handle\",\"class\":\"Monolog\\\\Handler\\\\AbstractProcessingHandler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/monolog/monolog/src/Monolog/Logger.php\",\"line\":632,\"function\":\"addRecord\",\"class\":\"Monolog\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/Logger.php\",\"line\":184,\"function\":\"error\",\"class\":\"Monolog\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/Logger.php\",\"line\":97,\"function\":\"writeLog\",\"class\":\"Illuminate\\\\Log\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Log/LogManager.php\",\"line\":665,\"function\":\"error\",\"class\":\"Illuminate\\\\Log\\\\Logger\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php\",\"line\":306,\"function\":\"error\",\"class\":\"Illuminate\\\\Log\\\\LogManager\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Exceptions/Handler.php\",\"line\":267,\"function\":\"reportThrowable\",\"class\":\"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php\",\"line\":497,\"function\":\"report\",\"class\":\"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\"type\":\"->\"},{\"file\":\"/var/www/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php\",\"line\":146,\"function\":\"reportException\",\"class\":\"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\"type\":\"->\"},{\"file\":\"/var/www/public/index.php\",\"line\":51,\"function\":\"handle\",\"class\":\"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\"type\":\"->\"}]},\"url\":\"https://errors.pydantic.dev/2.3/v/missing\"}]\n","statusTrace":"  File \"/builds/2uit/Chmaki_autotests/tests_api/utils/asserts.py\", line 140, in should_actual_scheme\n    assert False, e.json()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"assertion","value":"<class 'tests_api.utils.asserts.Assertion'>"},{"name":"auth_api","value":"<tests_api.api.auth.AuthApi object at 0x7fd9b5c7fee0>"}],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a025c02029fb7446","name":"stdout","source":"a025c02029fb7446.txt","type":"text/plain","size":3945}],"parameters":[],"stepsCount":4,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"screenshot_on_failure::0","time":{"start":1713416914288,"stop":1713416914380,"duration":92},"status":"passed","steps":[],"attachments":[{"uid":"a8fb59e4cd2a913c","name":"screenshot_test_validation_phone_number","source":"a8fb59e4cd2a913c.png","type":"image/png","size":5320}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"api_client_showcase::0","time":{"start":1713416914288,"stop":1713416914288,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"context::0","time":{"start":1713416914381,"stop":1713416914390,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"page::0","time":{"start":1713416914381,"stop":1713416914381,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1713416929224,"stop":1713416929247,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1713416929252,"stop":1713416929258,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"API тесты"},{"name":"feature","value":"[API] Авторизация"},{"name":"parentSuite","value":"Чмаки. API"},{"name":"subSuite","value":"API запросы по авторизации"},{"name":"tag","value":"api"},{"name":"host","value":"runner-vlhmfsk-project-154-concurrent-0"},{"name":"thread","value":"59-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests_api.test_authorization_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["api"]},"source":"1821a64bf7f6ef5f.json","parameterValues":["'chromium'"]}